<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Web Assembly</h1><p class="page-description">Lecture notes on Web Assembly</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-08-19T00:00:00-05:00" itemprop="datePublished">
        Aug 19, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#web">web</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#notes">notes</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul>
  <li>Problem that WebAssembly addresses : make the browser as generic as a computer, i.e. execute most programs</li>
  <li>
    <p>Principles</p>

    <ul>
      <li>But: Make it possible to reuse components coded in C, C++, Rust, etc. directly in the browser</li>
      <li>How: Convert C/CPP/Rust into LLVM representation</li>
      <li>
        <p>Theoretical workflow: compile/export c/cpp file in wasm format, serve wasm to client browser, interact with wasm module from javascript code</p>

        <pre><code class="language-mermaid">flowchart LR;
    subgraph web[webservice]
        direction TB
        jscode[service.js]--interacts--&gt;wasm
    end
    code[opencv.cpp]--export--&gt;wasm[opencv.wasm]
    web--served--&gt;client

</code></pre>
      </li>
      <li>WebAssembly is not a virtual machine, it is processed</li>
    </ul>
  </li>
  <li>2 formats: Wat (text file), Wasm (binary)</li>
  <li>Explorer: https://mbebenita.github.io/WasmExplorer/</li>
  <li>JS / WA Interactions:
    <ul>
      <li>Fetch the file and read it (binary)</li>
      <li>Use of the WebAssembly module (native) initialize WA module</li>
      <li>Instantiate module</li>
      <li>Then, whenever functions defined in the WA are called, the WA runtime will execute and deliver results to the JS runtime through a share memory</li>
    </ul>
  </li>
  <li>Limitations:
    <ul>
      <li>No DOM interactions but possible to interact with external functions</li>
      <li>Interoperability between JS and WA only through integers and floats –&gt; glue code</li>
      <li>No garbage collector (memory management is important)</li>
      <li>WA Runtime dependent on the browser</li>
    </ul>
  </li>
</ul>

<h1 id="quetions">Quetions</h1>

<ul>
  <li>Is it possible to export <strong>anything</strong> from a C/CPP/etc. program ? What are the limitations ?</li>
</ul>

<h1 id="references">References</h1>

<ul>
  <li>https://www.youtube.com/watch?v=P1xIKrrncS8</li>
  <li>https://webassembly.org/</li>
  <li>https://developer.mozilla.org/fr/docs/WebAssembly</li>
</ul>

  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="ycouble/til"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/web/notes/2022/08/19/webassembly.html" hidden></a>
</article>
